pipeline:
  name: test_pipeline
  nodes:
    # Test actor with no input, single output, and params
    sequencer:
      class: aineko.tests.conftest.TestSequencer
      outputs:
        - integer_sequence
        - env_var
      class_params:
        start_int: 0
        num_messages: 25
        sleep_time: 1

    # Test actor with single input and single output
    doubler:
      class: aineko.tests.conftest.TestDoubler
      inputs:
        - integer_sequence
      outputs:
        - integer_doubles
      class_params:
        duration: 40

  datasets:
    integer_sequence:
      type: kafka_stream
      params:
        retention.ms: 86400000

    integer_doubles:
      type: kafka_stream
      params:
        retention.ms: 86400000

    env_var:
      type: kafka_stream
      params:
        retention.ms: 86400000
