# Copyright 2023 Aineko Authors
# SPDX-License-Identifier: Apache-2.0
project: aineko_test
version: 0.1.1

defaults:
  machine_config:
    type: ec2
    mem_gib: 16
    vcpu: 4
  env_vars:
    project: aineko_test

environments:
  develop:
    pipelines:
      - example_pipeline:
          env_vars:
            env: develop
          load_balancers:
            - hostname: dev-api.aineko.dev
              port: 8000

      - test_run_1

  production:
    pipelines:
      - large_tx_all:
          machine_config:
            type: ec2
            mem_gib: 32
            vcpu: 8

pipelines:
  example_pipeline:
    source: ./tests/conf/test_pipeline.yml
    machine_config:
      type: ec2
      mem_gib: 8
      vcpu: 2

  test_run_1:
    source: ./tests/conf/test_pipeline_runs.yml
    name: test_run_1

  large_tx_all:
    source: ./tests/conf/test_pipeline_runs.yml
